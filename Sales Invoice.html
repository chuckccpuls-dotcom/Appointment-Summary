<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Appointment Summary</title>

<style>
  body {
    font-family: Arial, sans-serif;
    max-width: 900px;
    margin: 30px auto;
    padding: 20px;
    color: #000;
  }

  h3 {
    margin-top: 25px;
    border-bottom: 2px solid #000;
    padding-bottom: 5px;
  }

  /* HEADER */
  .header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
  }

  .logo {
    max-width: 160px;
  }

  .logo img {
    width: 100%;
    height: auto;
  }

  .company {
    font-size: 13px;
    line-height: 1.4;
    text-align: right;
  }

  /* FORM GRID */
  .grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 6px 20px;
    margin-top: 15px;
  }

  label {
    font-weight: bold;
    font-size: 13px;
    margin-bottom: 2px;
    display: block;
  }

  input, textarea, select {
    width: 100%;
    padding: 5px;
    font-size: 13px;
    box-sizing: border-box;
  }

  textarea {
    height: 80px;
  }

  .full {
    grid-column: 1 / -1;
  }

  /* TABLES */
  table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 12px;
  }

  th, td {
    border: 1px solid #000;
    padding: 8px;
    font-size: 13px;
  }

  th {
    background: #f0f0f0;
  }

  .right {
    text-align: right;
  }

  .btn {
    margin-top: 10px;
    padding: 6px 12px;
    font-size: 12px;
    cursor: pointer;
  }

  .totals {
    width: 320px;
    margin-left: auto;
    margin-top: 15px;
  }

  /* FOOTER */
  .footer {
    font-size: 12px;
    margin-top: 25px;
    font-style: italic;
  }

  @media print {
    .btn {
      display: none;
    }
    input, textarea, select {
      border: none;
    }
  }
</style>
</head>

<body>

<!-- HEADER -->
<div class="header">
  <div class="logo">
    <img src="puls-logo.png" alt="Puls Logo">
  </div>
  <div class="company">
    1 Sansome Street, Suite 3500, #10054, San Francisco, 94104<br>
    Support@Puls.com<br>
    (860) 596-0177
  </div>
</div>

<!-- CUSTOMER INFO -->
<div class="grid">
  <div>
    <label>Customer Name</label>
    <input required>
  </div>
  <div>
    <label>Appointment ID</label>
    <input id="appointmentId" required>
  </div>

  <div>
    <label>Email Address</label>
    <input type="email" required>
  </div>
  <div>
    <label>Date</label>
    <input type="date" required>
  </div>

  <div>
    <label>Phone Number</label>
    <input required>
  </div>
  <div>
    <label>Technician</label>
    <input required>
  </div>

  <div class="full">
    <label>Address</label>
    <input required>
  </div>

  <div>
    <label>Service Type</label>
    <select required>
      <option value="">Select</option>
      <option>Inspection</option>
      <option>Repair</option>
      <option>Estimate</option>
    </select>
  </div>

  <div>
    <label>Appliance Type</label>
    <select required>
      <option value="">Select</option>
      <option>Refrigerator</option>
      <option>Washer</option>
      <option>Dryer</option>
      <option>Dishwasher</option>
      <option>Oven / Range</option>
      <option>Microwave</option>
    </select>
  </div>
</div>

<!-- SUMMARY -->
<h3>Appointment Summary</h3>

<label>Inspection Note:</label>
<textarea required></textarea>

<label>Recommendation:</label>
<textarea required></textarea>

<h3>Quote:</h3>

<!-- LABOR -->
<h3>Labor</h3>
<table id="laborTable">
  <tr>
    <th>Description</th>
    <th class="right">Amount</th>
    <th></th>
  </tr>
</table>
<button class="btn" onclick="addRow('laborTable')">+ Add Labor</button>

<!-- PARTS -->
<h3>Parts</h3>
<table id="partsTable">
  <tr>
    <th>Description</th>
    <th class="right">Amount</th>
    <th></th>
  </tr>
</table>
<button class="btn" onclick="addRow('partsTable')">+ Add Parts</button>

<!-- TOTALS -->
<table class="totals">
  <tr>
    <td>S&amp;S Fee</td>
    <td><input type="number" step="0.01" oninput="calculateTotal()"></td>
  </tr>
  <tr>
    <td>Tax</td>
    <td><input type="number" step="0.01" oninput="calculateTotal()"></td>
  </tr>
  <tr>
    <td><strong>Total</strong></td>
    <td><input type="number" step="0.01" id="total" readonly></td>
  </tr>
</table>

<!-- FOOTER -->
<div class="footer">
  <p>Inspection reports are only valid for 14 days.</p>
  <p>
    Parts and repairs supplied by the customer or a third-party service provider
    are not covered under the 90-day service guarantee.
  </p>
</div>

<button class="btn" onclick="downloadPDF()">Download PDF</button>

<!-- SCRIPTS -->
<script>
function addRow(tableId) {
  const table = document.getElementById(tableId);
  const row = table.insertRow(-1);
  row.innerHTML = `
    <td><input></td>
    <td><input type="number" step="0.01" oninput="calculateTotal()"></td>
    <td><button class="btn" onclick="removeRow(this)">âœ•</button></td>
  `;
}

function removeRow(btn) {
  btn.closest("tr").remove();
  calculateTotal();
}

function calculateTotal() {
  let sum = 0;
  document.querySelectorAll("input[type='number']").forEach(input => {
    if (input.id !== "total") {
      sum += Number(input.value) || 0;
    }
  });
  document.getElementById("total").value = sum.toFixed(2);
}

function downloadPDF() {
  const apptId = document.getElementById("appointmentId").value.trim();
  const base = "Appointment Summary";
  document.title = apptId ? `${base} - ${apptId}` : base;
  window.print();
}
</script>

</body>
</html>
